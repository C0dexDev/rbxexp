local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local remote = game:GetService("ReplicatedStorage"):WaitForChild("ReplicateEffectsRemoteEvent")

local function sendEmote(part, animalType, animalName, emoteName)
	remote:FireServer(
		"EmoteSound",
		Vector3.new(0,0,0),
		{
			AnimalType = animalType,
			AnimalName = animalName,
			AnimalAge = "Adult",
			PartRef = part,
			EmoteName = emoteName,
			PlayerName = LocalPlayer.Name
		}
	)
end


function godPlayer(victim)
	if not victim or not victim:IsDescendantOf(Players) then return end
	local localChar = LocalPlayer.Character
	if not localChar then return end
	local localRoot = localChar.PrimaryPart
	if not localRoot then return end
	local victimChar = victim.Character
	if not victimChar then return end
	local victimRoot = victimChar.PrimaryPart
	if not victimRoot then return end
	local distance = (localRoot.Position - victimRoot.Position).Magnitude
	if distance > 100 then
		print("Too far from victim!")
		return
	end
	local radius = 20          -- distancia de la Ã³rbita
	local height = 1           -- altura relativa
	local speed = 3            -- velocidad angular (rad/s)
	local duration = 10        -- segundos que dura el efecto
	local angle = 0
	local startTime = tick()
	local finished = Instance.new("BindableEvent")
	local connection

	connection = RunService.RenderStepped:Connect(function(dt)
		if tick() - startTime > duration then
			connection:Disconnect()
			finished:Fire()
			return
		end
		if not victimRoot.Parent or not localRoot.Parent then
			connection:Disconnect()
			finished:Fire()
			return
		end
		angle += speed * dt
		local offset = Vector3.new(
			math.cos(angle) * radius,
			height,
			math.sin(angle) * radius
		)
		localRoot.CFrame = CFrame.new(victimRoot.Position + offset, victimRoot.Position)
	end)
	local finishOrbit = false
	task.spawn(function()
		while not finishOrbit do
			local args = {
				"SpecialAttackSound",
				game.Players.LocalPlayer.Character.PrimaryPart.Position,
				{
					AnimalType = "Reptiles",
					AnimalName = "Croc",
					AnimalAge = "Adult",
					PartRef = game:GetService("Players").LocalPlayer.Character:WaitForChild("Head")
				}
			}
			remote:FireServer(unpack(args))
			local args = {
				"SpecialAttackSound",
				victimRoot.Position,
				{
					AnimalType = "Mammals",
					AnimalName = "Elephant",
					AnimalAge = "Adult",
					PartRef = victimRoot
				}
			}
			remote:FireServer(unpack(args))
			task.wait(.1)
		end
	end)
	finished.Event:Wait()
	finishOrbit = true
	--GOD HERE
	localRoot.CFrame = CFrame.new(victimRoot.Position)
	TweenService:Create(localRoot,TweenInfo.new(2,Enum.EasingStyle.Quad),{CFrame = CFrame.new(localRoot.Position + Vector3.new(0,10,0))}):Play()
	game:GetService("ReplicatedStorage"):WaitForChild("SpecialAttackRemoteEvent_ChargedAttack"):FireServer(victimChar.Humanoid,0/0)
	for i=0,25 do
		sendEmote(victimRoot,"Mammal","Elephant","LongTrumpet")
		task.wait()
	end
end
godPlayer(game.Players["C0dexDev"])
